<div class="row">
  <div class="col-md-3 col-xs-12 middle-xs">
    <div class="profile-header">
      <!-- <mat-icon color="primary">account_circle</mat-icon> -->
    </div>
    <div>
      <h2>Kevin Urgilés</h2>
    </div>
  </div>
  <div class="col-md-9 col-xs-12">
    <div class="report-container">
      <form [formGroup]="reportForm" (ngSubmit)="updateReport($event)">
        <mat-card>
          <mat-card-title>
            Reporte
          </mat-card-title>
          <mat-card-subtitle>
            {{goalName}}
          </mat-card-subtitle>
          <mat-card-content>
            <p>¿Tuviste éxito?</p>
            <mat-form-field appearance="fill" >
              <mat-select formControlName="successful" placeholder="No" >
                <mat-option value="true">Si</mat-option>
                <mat-option value="false">No</mat-option>
              </mat-select>
            </mat-form-field>
            <div *ngIf="wasSuccessful">
              <p>Agrega una foto como evidencia</p>
              <input type="file" name="imageFile" (change)="validateFile($event)"/>
              <img class="spinner" *ngIf="spinnerUrl" [src]="spinnerUrl" alt="Loading">
              <p class="error-message" *ngIf="!validFile && errorMessage">{{ errorMessage }}</p>
              <p class="success-message" *ngIf="successMessage" >{{ successMessage }}</p>
            </div>
            <div *ngIf="wasSuccessful">
              <mat-form-field>
                <mat-label>Agrega un comentario</mat-label>
                <textarea
                  formControlName="comment"
                  matInput
                  rows="7"
                ></textarea>
              </mat-form-field>
            </div>
          </mat-card-content>
          <mat-card-actions>
            <div class="row">
              <div
                *ngIf="wasSuccessful"
                class="col-xs-2 xs-offset-5"
              >
                <button
                  [disabled]="reportForm.invalid"
                  mat-raised-button 
                  color="accent" 
                  type="submit">
                  Enviar
                </button>
              </div>
              <div 
                *ngIf="!wasSuccessful"
                class="col-xs-2 xs-offset-5"
              >
                <button
                  routerLink="/"
                  mat-raised-button 
                  color="accent" 
                  type="submit">
                  Enviar
                </button>
              </div>
            </div>
          </mat-card-actions>
        </mat-card>
      </form>
    </div>
  </div>
</div>
